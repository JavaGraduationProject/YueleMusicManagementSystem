webpackJsonp([8],{0:function(e,t){},"75l9":function(e,t){e.exports={_from:"axios@^0.21.1",_id:"axios@0.21.4",_inBundle:!1,_integrity:"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",_location:"/axios",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"axios@^0.21.1",name:"axios",escapedName:"axios",rawSpec:"^0.21.1",saveSpec:null,fetchSpec:"^0.21.1"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",_shasum:"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575",_spec:"axios@^0.21.1",_where:"D:\\workspace\\suifengStore\\升级版本\\element-ui",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundleDependencies:!1,bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.14.0"},deprecated:!1,description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},homepage:"https://axios-http.com",jsdelivr:"dist/axios.min.js",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",unpkg:"dist/axios.min.js",version:"0.21.4"}},Cghn:function(e,t){},G1q7:function(e,t){},Ixzz:function(e,t){},N9P1:function(e,t){e.exports={menuText:"#bfcbd9",menuActiveText:"#409EFF",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",menuLightBg:"#fff",menuLightHover:"#f0f1f5",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"200px",sidebarTitle:"#fff",sidebarLightTitle:"#001529"}},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),i=n("mvHQ"),r=n.n(i),s=n("woOf"),a=n.n(s),u={name:"App",created:function(){var e=this;sessionStorage.getItem("store")&&this.$store.replaceState(a()({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",function(){sessionStorage.setItem("store",r()(e.$store.state))})},mounted:function(){var e=this;window.addEventListener("hashchange",function(){var t=window.location.hash.slice(1);e.$router.path!==t&&e.$router.push(t)},!1)}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=n("VU/8")(u,c,!1,function(e){n("Cghn")},null,null).exports,f=n("Dd8w"),d=n.n(f),p=n("Gu7T"),h=n.n(p),m=n("Y81h"),g=n.n(m),v=n("/ocq"),y=n("NYxO"),I={user:{hasLogin:!1,roles:[],routes:[],userToken:{},userInfo:{},permissions:[]},config:{},noticeList:[],dictList:[]},w={hasLogin:function(e){return e.user.hasLogin},roles:function(e){return e.user.roles},routes:function(e){return e.user.routes},userToken:function(e){return e.user.userToken},userInfo:function(e){return e.user.userInfo},permissions:function(e){return e.user.permissions},config:function(e){return e.config},noticeList:function(e){return e.noticeList},dictList:function(e){return e.dictList},getDictArray:function(e){return function(t){if(void 0!=e.dictList[t])return e.dictList[t].map(function(e){return{dictLabel:e.label,dictValue:parseInt(e.value)}});console.error("没有找到字典:【"+t+"】")}}},b=n("Zrlr"),L=n.n(b),x=n("wxAW"),T=n.n(x),E=n("//Fk"),S=n.n(E),O=n("5QVw"),k=n.n(O),R=n("mtWM"),_=n.n(R),N=n("mw3O"),A=n.n(N),U=n("zL8q"),C=n.n(U),F=k()("config"),j=k()("isCompleteURL"),P=k()("requestBefore"),q=k()("requestAfter");_.a.interceptors.response.use(function(e){return e.data&&401==e.data.code&&U.MessageBox.confirm("权限不足，请联系管理员！","温馨提示",{confirmButtonText:"确定",type:"warning"}).then(function(){console.error("权限不足，请联系管理员！")}),e.data&&302==e.data.code&&U.MessageBox.confirm(e.data.info,"温馨提示",{confirmButtonText:"确定",type:"warning"}).then(function(){window.location.reload()}),e},function(e){return _.a.get("/api/sys/checkSession").then(function(e){}).catch(function(e){console.log(e)}),S.a.reject(e)});var B=function(){function e(){L()(this,e),this[F]={header:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},dataType:"json",responseType:"text"},this.interceptors={request:function(t){e[P]=t||function(e){return e}},response:function(t){e[q]=t||function(e){return e}}}}return T()(e,[{key:"setConfig",value:function(e){this[F]=e(this[F])}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.baseURL=t.baseURL||this[F].baseURL,t.dataType=t.dataType||this[F].dataType,t.url=e[j](t.url)?t.url:t.baseURL+t.url,t.data=A.a.stringify(t.data),t.header=d()({},t.header,this[F].header),t.method=t.method||this[F].method,t=d()({},t,e[P](t)),new S.a(function(e,n){_()({method:t.method,url:t.url,data:t.data,dataType:t.dataType,headers:t.header}).then(function(t){e(t.data)}).catch(function(e){n(e)})})}},{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.url=e,n.data=t,n.method="GET",this.request(n)}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.url=e,n.data=t,n.method="POST",this.request(n)}}],[{key:P,value:function(e){return e}},{key:q,value:function(e){return e}},{key:j,value:function(e){return/(http|https):\/\/([\w.]+\/?)\S*/.test(e)}}]),e}();B.install=function(e){e.mixin({beforeCreate:function(){this.$options.minRequest&&(console.log("api:",this.$options.minRequest),e._minRequest=this.$options.minRequest)}}),Object.defineProperty(e.prototype,"$request",{get:function(){return e._minRequest}})};var H=B,$="http://localhost:8090",M={PROJECT_NAME:"随风平台升级版",CONFIG:{showRoles:!1,showRegister:!1},HOST:$,FILE_BASE:"/attach_files/upload/",FILE_BASE_PATH:"http://localhost:8090/attach_files/upload/"},G=M.FILE_BASE_PATH;var V={uploadFile:function(e,t){return new S.a(function(n,o){uni.uploadFile({url:e,files:[{name:"file",file:t,uri:t}],success:function(e){n(e)},fail:function(e){o(e)}})})},getHisFiles:function(e){return new S.a(function(t,n){console.log("[log]:","【获取历史附件】",e),$http.get("/api/applet/sysAttach/getFileHistory",{refId:e}).then(function(e){for(var n=0;n<e.list.length;n++)e.list[n].savePath=G+e.list[n].savePath;t(e.list)})})},deleteFiles:function(e){for(var t=0;t<e.length;t++)$http.get("/api/applet/sysAttach/deleteFile",{id:e[t].id}).then(function(e){e.isOk&&console.log("[log]:","【提交删除成功】")})}},D=(n("NeEb"),new H);console.log(""),D.setConfig(function(e){return e.baseURL="",e});var z,J={doGet:function(e,t){return D.get(e,t)},doPost:function(e,t){return D.post(e,t)},getClientToken:function(e){return D.get("/api/author/getToken",e)},getMenuUserTree:function(e){return D.post("/api/sys/getMenuUserTree",e)},getUserRoutes:function(e){return D.post("/api/sys/getUserRoutes",e)},getDictList:function(e){return D.post("/api/sys/getDictList",e)},getConfig:function(e){return D.post("/api/sys/getConfig",e)},getLoginOut:function(e){return D.post("/api/login/loginOut",e)},getUserInfo:function(e){return D.post("/api/login/getUserInfo",e)},getLoginInfo:function(e){return D.post("/api/login/getLoginInfo",e)},getFileHistory:function(e){return D.get("/api/sysAttach/getFileHistory?refId="+e.refId)},deleteFile:function(e){return D.get("/api/sysAttach/deleteFile?id="+e.id)},uploadFiles:function(e,t,n){return V.uploadFile("/api/sysAttach/uploadFile/"+e+"/"+t,n)},getClientLoginInfo:function(e){return D.post("/api/client/login/getLoginInfo",e)},getClientUserInfo:function(e){return D.post("/api/login/getUserInfo",e)}},W={commitUserRoutes:function(e,t){var n=e.commit;return J.getUserRoutes(t).then(function(e){return n("ROUTES",e.list),e.list})},commitLoginOut:function(e,t){var n=e.commit;return J.getLoginOut(t).then(function(e){return n("ROLES",[]),n("ROUTES",[]),n("PERMISSIONS",[]),n("USER_INFO",{}),n("HAS_LOGIN",!1),e})},commitUserInfo:function(e,t){var n=e.commit;J.getUserInfo(t).then(function(e){n("USER_INFO",e.obj)})},commitLoginInfo:function(e){var t=e.commit;return J.getLoginInfo().then(function(e){return t("ROLES",e.data.roles),t("USER_INFO",e.data.userInfo),t("PERMISSIONS",e.data.permissions),t("HAS_LOGIN",null!=e.data.userInfo),e})},commitConfig:function(e){var t=e.commit;return J.getConfig().then(function(e){return console.log("CONFIG:",e.obj),t("CONFIG",e.obj),e})},commitDictList:function(e){var t=e.commit;return J.getDictList().then(function(e){return console.log("DICT_LIST:",e.data),t("DICT_LIST",e.data),e})},commitNoticeList:function(e){var t=e.commit;return J.getNoticeList().then(function(e){return t("NOTICE_LIST",e.data),e})},commitClientToken:function(e,t){var n=e.commit;return J.getClientToken(t).then(function(e){return sessionStorage.setItem("sessionId",e.data.userToken.sessionId),n("USER_TOKEN",e.data.userToken),e})},commitClientLoginInfo:function(e){var t=e.commit;return J.getClientLoginInfo().then(function(e){return t("USER_INFO",e.data.userInfo),t("HAS_LOGIN",null!=e.data.userInfo),e})},commitClientUserInfo:function(e,t){var n=e.commit;J.getClientUserInfo(t).then(function(e){n("USER_INFO",e.obj)})}},Q=n("bOdI"),X=n.n(Q),K=(z={},X()(z,"HAS_LOGIN",function(e,t){e.user.hasLogin=t}),X()(z,"ROLES",function(e,t){e.user.roles=t}),X()(z,"ROUTES",function(e,t){e.user.routes=t}),X()(z,"USER_TOKEN",function(e,t){e.user.userToken=t}),X()(z,"USER_INFO",function(e,t){e.user.userInfo=t}),X()(z,"PERMISSIONS",function(e,t){e.user.permissions=t}),X()(z,"CONFIG",function(e,t){e.config=t}),X()(z,"DICT_LIST",function(e,t){e.dictList=t}),X()(z,"NOTICE_LIST",function(e,t){e.noticeList=t}),z);o.default.use(y.a);var Y=new y.a.Store({state:I,getters:w,actions:W,mutations:K});o.default.use(v.a);var Z=new v.a({mode:"history",routes:[{name:"index",path:"",redirect:"/login",hidden:!0},{name:"login",path:"/login",component:function(e){return Promise.all([n.e(0),n.e(4)]).then(function(){var t=[n("UEzk")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{name:"404",path:"/404",component:function(e){return n.e(5).then(function(){var t=[n("w4x4")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{name:"main",path:"/main",meta:{title:"主页"},component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){var t=[n("yAfb")];e.apply(null,t)}.bind(this)).catch(n.oe)},children:[{name:"home",meta:{title:"平台首页"},path:"/home",component:function(e){return n.e(6).then(function(){var t=[n("S/3p")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"*",redirect:"/",name:"notFound",hidden:!0}]},{name:"client",path:"/client",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){var t=[n("yBgD")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]});Z.beforeEach(function(e,t,o){console.log("to:",e),g.a.start(),document.title=M.PROJECT_NAME,"/client"!=e.path&&"/login"!=e.path&&0==Y.getters.routes.length?Y.dispatch("commitUserRoutes").then(function(t){var i=Z.options.routes;i.forEach(function(r){if("main"===r.name){var s,a=t.map(function(e){return{name:e.name,path:e.path,meta:{title:e.title},component:function(t){return Promise.all([n.e(0),n.e(1)]).then(function(){var o=[n("31BR")("./"+e.component)];t.apply(null,o)}.bind(this)).catch(n.oe)}}});(s=r.children).push.apply(s,h()(a)),console.log("userRoutes",a),Z.addRoutes(i),o(d()({},e,{replace:!0}))}})}).catch(function(t){console.log("err:",e),Y.dispatch("commitLoginOut").then(function(){o({path:"/login"}),g.a.done()})}):(o(),g.a.done())}),Z.afterEach(function(){g.a.done()});var ee=Z;n("VUEL"),n("N9P1"),n("Ixzz"),n("G1q7"),n("tvR6"),n("e0XP"),n("UVIz");o.default.prototype.formatUrl=function(e){if(null!=e&&void 0!=e&&""!=e)return e.indexOf("http")>-1?e:this.$global.FILE_BASE_PATH+e},o.default.prototype.resetForm=function(e){e&&e.resetFields()},o.default.prototype.resetFields=function(e){for(var t in e)e[t]instanceof Array?e[t]=[]:e[t]="";return e},Array.prototype.contain=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return!0;return!1},Array.prototype.clone=function(){for(var e=[],t=0,n=this.length;t<n;t++)e.push(this[t]);return e},o.default.prototype.showToast=function(e){Object(U.Message)({message:e,center:!0})},o.default.prototype.showConfirm=function(e,t){U.MessageBox.confirm(e,"温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t&&t()})},o.default.prototype.showSuccess=function(e){Object(U.Message)({message:e,type:"success",center:!0})},o.default.prototype.showWarn=function(e){Object(U.Message)({message:e,type:"warning",center:!0})},o.default.prototype.focusLastIndex=function(e){this.$nextTick(function(){if(window.getSelection)e.focus(),(t=window.getSelection()).selectAllChildren(e),t.collapseToEnd();else if(document.selection){var t;(t=document.selection.createRange()).moveToElementText(e),t.collapse(!1),t.select()}})};var te=n("mB+i"),ne=n.n(te),oe={inserted:function(e,t,n){var o=t.value,i=Y.getters&&Y.getters.roles;if(!(o&&o instanceof Array&&o.length>0))throw new Error('请设置角色权限标签值"');var r=o;i.some(function(e){return"admin"===e||r.includes(e)})||e.parentNode&&e.parentNode.removeChild(e)}},ie={inserted:function(e,t,n){var o=t.value,i=Y.getters&&Y.getters.permissions;if(!(o&&o instanceof Array&&o.length>0))throw new Error("请设置操作权限标签值");var r=o;i.some(function(e){return"*:*:*"===e||r.includes(e)})||e.parentNode&&e.parentNode.removeChild(e)}},re=function(e){e.directive("hasRole",oe),e.directive("hasPermi",ie)};window.Vue&&(window.hasRole=oe,window.hasPermi=ie,Vue.use(re));var se=re;o.default.config.silent=!0,o.default.use(C.a,{zIndex:1e3}),o.default.use(se),o.default.prototype.$utils={getArrayIndex:function(e,t){if(""!=t)for(var n=0;n<e.length;n++)if(e[n].value==t)return n},getArrayName:function(e,t){for(var n=0;n<e.length;n++)if(e[n].value==t)return e[n].name},getArrayValue:function(e,t){for(var n=0;n<e.length;n++)if(n==t)return e[n].value}},o.default.prototype.$validator=ne.a,o.default.prototype.$minRequest=J,o.default.use(H),o.default.prototype.$store=Y,o.default.prototype.$global=M,o.default.config.silent=!0,o.default.config.productionTip=!1,new o.default({el:"#app",minRequest:J,router:ee,components:{App:l},template:"<App/>"})},UVIz:function(e,t){},VUEL:function(e,t){e.exports={theme:"#1890ff"}},e0XP:function(e,t){},"mB+i":function(e,t){e.exports={phone:function(e,t,n){e.required&&""===t?n(new Error("请输入手机号")):""===t||/^(?:(?:\+|00)86)?1[3-9]\d{9}$/.test(t)?n():n(new Error("请输入正确的手机号"))},idCard:function(e,t,n){e.required&&""===t?n(new Error("请输入身份证号")):""===t||/(^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$)|(^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$)/.test(t)?n():n(new Error("请输入正确的身份证号"))},chineseName:function(e,t,n){e.required&&""===t?n(new Error("请输入中文名字")):""===t||/^(?:[\u4e00-\u9fa5·]{2,16})$/.test(t)?n():n(new Error("请输入正确的中文名字"))}}},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7bd03988537b15eb0a7f.js.map